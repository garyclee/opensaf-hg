OpenSAF 5.1.1 (released 2017-04-10)
-----------------------------------

    * amfd: ignore node_up if node state is not absent [#2400]
    * amfd: handle BAD_HANDLE return during config read [#2361]
    * retry ccbabort when failed with TRY_AGAIN and TIMEOUT[#2398]
    * amf: fix track callback when multiple CLM nodes leaves membership[#2372].
    * smf: retry of ccb operations when failed with resouce abort[#2389]
    * amfd: remove assignments from lower ranked SU while adjusting SI assignments [#2268]
    * imm:decrement the pending reply when error is other than SA_AIS_OK when newCcbId is called [#2386]
    * amfd: choose CLM unlocked spare controller for standby role in failover situation[#2387]
    * amfnd: print list of CLC CLI command env variables correctly [#2368]
    * mdstest: correct test cases [#2178]
    * log: fix to remove a redundant double quotation [#1463]
    * smfd: fix campaign suspend when last step of procedure is executing [#2332]
    * amfd: handle TIMEOUT for avd_imm_applier_set [#2338]
    * clmd: try to re-read node config from IMM if BAD_HANDLE is returned [#2325].
    * amfnd: Reinstantiate failed and unassigned component after component failover recovery [#2233]
    * imm: Sync latest ccb-id to sync clients [#2323]
    * uml: Fix busybox build problem and upgrade Linux version [#2348]
    * amfd: dont create susi when node is absent [#2106]
    * amfnd: avoid null pointer access [#2213]
    * amfnd: update counters during switchover [#2345]
    * osaf: fix saflog to handle long log record [#2313]
    * amfnd: Do not delete cbk info if csi is in assigning state while shutting down [#2316]
    * amfd: SG admin state is nor honored during node group unlock_instantiation [#2324]
    * amfd: fix null ptr accessing issue [#2322]
    * smf: admin owner err_exist on parallel procedures [#2288]
    * imm: Cleanup orphaned implementers and admowners when headless [#2309]
    * base: fix ncs_edp_sanamet for arrays [#2314]
    * msgd: only call saClmFinalize if CLM init fails [#2308]
    * imm: Fix problems with removing coordinator role when cluster goes headless [#2296]
    * amfd: do not assert on saAmfSUMaintenanceCampaign modification [#2305]
    * ntf: workaround to fix failed upgrade [#2300]
    * clmd: checkpoint full node record in CCB modify cbk [#2265]
    * imm: Update NO_DANGLING document with information about ATTR_DN [#2276]
    * ckpt: return SA_AIS_ERR_BAD_HANDLE if ckpt handle is not found in checkpoint open call [#2283]
    * nid: Do not require tipc-config to be present when not managing TIPC [#2281]
    * log: fix log file is changed during si-swap [#2247]
    * base: avoid SIGPIPE in osaf_auth_server_connect()  [#2286]
    * smf: retry the ccb modify operation when the ccb is aborted with resource abort [#2277]
    * ntfd: convert LOG_ER to LOG_WA for clm status message failure to ntfa [#2274]
    * imm: Add missing checks for SaStringT attributes with ATTR_DN flag [#2270]
    * imm: Fix the mismatch when resetting sLastContinuationId [#2272]
    * base: fix memory leak in sysf_tmr.c [#2251]
    * base: fix decrementing reference counter in ncs_tmr_start and ncs_tmr_remaining [#2249]
    * lga: assign valid client after invalid handle removal [#2254]
    * amfd: use more appropriate log severity levels in si_swap_validate() [#1897]
    * cpd: syncup active standby mbcsv dtat for non-colcated ckpt above 3 replicas[#2253]
    * imm: fix memory leak in PBE [#2260]
    * ckpt: fix memory leak in cpd_a2s_ckpt_usr_info [#2257]
    * ckpt: fix memory leak in saCkptCheckpointRead [#2256]
    * ckpt: fix extended name issues in the library [#2128]
    * smf: failed one-step upgrade between opensaf versions [#2226]
    * amfd: increase max job queue size at standby [#2228]
    * amfd: return BAD OP in fault cases during si swap [#1294]
    * leap: fix sysfTmrCreate and return values [#2246]
    * amfnd: honour max num of retries for comp instantiation during repair[#2059].
    * clm: Use a temporary directory for generated files in the scale-out script [#2245]
    * smf: ER messages when handling smfnd node up [#1872]
    * imm: Fix memory leak when clearing sDeferredObjUpdatesMap [#2238]
    * ntfd: fix circular dependency with osafntfimcnd [#2219]
    * uml: Update to Linux 4.9, iproute2 4.9.0 and busybox 1.25.1 [#2236]
    * smf: Type error build problem in SendCommandToThread() LOG_ER
    * amfd: remove redundant notifications to RDE [#2216]
    * smf: For a step, allow all unit types in the unit list [#2125]
    * clm: Send MDS messages asynchronously to avoid blocking the main thread [#2220]
    * smf: use IMM appler for the change in longDnsAllowed attributes [#2139]
    * NTFD: Increment iterator in NotificationMap loop before deleted [#2223]
    * log: fix bad file discriptor error when changing imm attributes [#2215]
    * imm: move IMM error string prefixes to header file [#2198]
    * smf:Allow optimization at node level forAddRemove in mergeStepIntoSingle[#2209]
    * imm:allow augumentCcbInit with ROF as false in completed callback[#1956]
    * ntfd: process NTFA down event with high priority[#2206]
    * AMFD: Do not let non-active AMFD receives CLM track callback [#2141] V2
    * amfd: Cyclic reboot of SC-1 during Resilience test [#2081]
    * mds: Avoid hanging MDS receive thread when poll() returns an error [#2182]
    * leap: fixed 32-bit build error [#2202]
    * smf: Avoid unconditional sleep when calling adminoperation[#2211]
    * cpnd: fix error handling while section_hdr_update_fail [#2207]
    * mqsv : update mqsv error handing based on leap changes [#2202]
    * cpsv : update cpsv error handing based on leap changes [#2202]
    * leap: leap library ensure shm availability before writing [#2202]
    * amfd: fix si-swap timeout [#2190]
    * imm: Correct nodeId assertion in ImmModel::ccbAbort() [#2205]
    * amfd: ensure we have fully initialized IMM before using selection object [#2188]
    * mds: avoid SIGPIPE in mds_register_callback() [#2203]
    * log: handle TRY_AGAIN error code of saClmInitialize() [#2192]
    * amfd: do not spawn multiple threads for imm init[#2188] V2
    * AMFD: Return SA_AIS_ERR_NO_RESOURCES on si_ccb_complete if SG is unstable [#2184]
    * imm: Fix external linkage in OI library [#2167]
    * ntf: handle error code TRY_AGAIN of saClmInitialize() [#2191]
    * amfnd: avoid sending multiple node-switchover recovery request for same fault[#1935]
    * mds: Fix type mismatch in mdtm_num_subscriptions extern declaration [#2196]
    * imm: update README, regarding convertion of notice to trace[#2195]
    * imm:converted notice to trace when default_removed flag is set at the time of loading to avoid flooding[#2195]
    * amfd: free memory allocated for notifications during switchover [#2194]
    * amfnd: add cleanup command for proxy and proxied [#2186]
    * cpsv: on cpnd down fist remove child safReplica object then parent safCkpt object [#2189]
    * ntf: fix ntfa to remove subscriber in subscriberNoList at finalize [#1978]
    * cpsv: fix crash problem in cpd while rolling update got error [#2187]
    * log: fix logtest 5 3 failed [#2168]
    * smf: Fix for #2066 does not build on 32bit [#2185]
    * smf: Fails to create a node group, admin owner/handle is lost [#2153]
    * amfnd: send node_up even if led_state is not green [#2183]
    * amfd: avoid active SI failover during su or node failover recovery, N-WAY model[#1944]
    * amfd: execute imm jobs based on latest status of attributes and objects[#2009] V2
    * smf: Fix loop timeout in admin operation handling [#2066]
    * amfd: push notification in existing job queue for retries [#314] V2
    * amfd: add assert to ensure SU is not null [#2175]
    * AMFD: Make active/standby amfd becomes early implementer/applier [#2112]
    * amfnd: clean proxy if proxy and proxied are not in the same SU [#2169]
    * amfd: mark all SUs OOS on failed node before nodeswitchover recovery[#1934]
    * amfd: increment iterator before it is deleted [#2171]
    * smf:balanced upgrade, no activation/deactivation done [#2126]
    * smf: balanced upgrade, modifications missing after reboot [#2147]
    * smf:read imm longdn attribute at campaigninit [#2119]
    * base: Using TRACE log priority when real-time scheduling policy is not supported [#1923]
    * cpnd: use shared memory based on ckpt name length [#2108]
    * amfd: ignore node_up until the mds event amfnd up has been received [#2124]
    * amfnd: ignore healthcheck failure if comp is terminating [#1950]
    * imm: Convert syslog message to TRACE, to avoid filling up the syslog [#2136]
    * cpsv: To update checkpoint user number for each node [#1669]
    * amfnd: fix amfnd exit when a NPI SU comp faults during shutdown phase [#2098].
    * imm: Fix error handling path when imma_sync_with_immnd fails [#2131]
    * smf: Admin owner set needed if new handles has been created [#2122]
    * log: correct the usage printout of saflogger command [#2073]
    * base: Add timer tool to osaf_time and base/time [#2090]
    * clm: Allow payloads with lower node-id than system controllers [#2117]
    * amfd: fix incorrect ER messages in sg_2n_fsm.cc [#1897]
    * imm: Don't send ND2ND_ADMOP_RSP message when OI and OM client are on the same node [#2113]
    * plm: log entity path for failed HPI calls [#2109]
    * amfnd: queue PG track action msgs [#2115]
    * smf: balanced upgrade, missing removal of exectrl copy [#2114]
    * log: fix saLogStreamOpen_2 returns SA_AIS_ERR_BAD_OPERATION during si-swap [#2093]
    * log: fix failure to create directory when changing logRootDirectory [#2054]
    * immtool: Don't finalize admo if it hasn't been initialized [#2107]
    * smf: reading of IMM longdn attribute at the camapign admin operation [#2087]
    * log: write_log_record_hdl get bad file descriptor [#2028]
    * smfd: handle failed middleware si-swap [#1605]
    * amfnd: send recovery request to amfd for term-failed PI su [#2047] V2
    * imm: Also do not send ccb abort reply to clients if the CCBs are in EMPTY state [#2010]
    * uml: Update UML to Linux 4.8 [#2089]
    * log: fix runtime log stream is deleted after restarting from headless [#2071]
    * imm: Set validation abort error string when OI returns ERR_BAD_OPERATION or ERR_FAILED_OPERATION [#1650]
    * cpsv: remove longDnsAllowed checking each checkpoint creating time [#2068]
    * smf: balanced upgrade software bundle missmatch [#2080]
    * smf: Recreate IMM handles if bad handle when deleting node group [#2046]
    * smf: Delete node group if already exist when creating [#2049]
    * smf: Avoid flooding of syslog when the upgrade involves node reboot [#2058]
    * imm:abort the uncommited ccbs when the implementer gracefully disconnects [#2056]
    * smf:retry of Admin operation for TIMEOUT in si-swap to be avoided [#2069]
    * ntfs: convert LOG_ER to LOG_WA [#1895]
    * imm: Do not send ccb abort reply to clients if they are not in CCB call [#2010]
    * amfd: do not notify admin state of SG for same state transition[#1990]
    * amfnd: correct logging during assignment and syncing after SC absence state[#2062]
    * amfd: do not flush imm jobs on active controller[#2016]
