<?xml version="1.0" encoding="UTF-8"?>
<!--
 *      -*- OpenSAF  -*-
 *
 * (C) Copyright 2008 The OpenSAF Foundation
 *
 * This program is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 * or FITNESS FOR A PARTICULAR PURPOSE. This file and program are licensed
 * under the GNU Lesser General Public License Version 2.1, February 1999.
 * The complete license can be accessed from the following location:
 * http://opensource.org/licenses/lgpl-license.php
 * See the Copying file included with the OpenSAF distribution for full
 * licensing terms.
 *
 * Author(s): Emerson Network Power
 *
-->
<!--Sample XML file generated by XMLSPY v2004 rel. 3 U (http://www.xmlspy.com)-->
<APPConfig xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="AppConfig.xsd" name="AVSVDEMO">
        <AMFConfig cluster="myAmfConfig">
                <componentPrototype name="safComp=CompT_AvSvDemo" finalPrototype="1">
                        <clcCommands>
                                <instantiateCommand>
                                        <command>/etc/opt/opensaf/comp_inst.sh</command>
                                        <timeout>60000</timeout>
                                        <numMaxInstantiate>2</numMaxInstantiate>
                                </instantiateCommand>
                                <terminateCommand>
                                        <command>/etc/opt/opensaf/comp_term.sh</command>
                                        <timeout>5000</timeout>
                                </terminateCommand>
                                <cleanupCommand>
                                        <command>/etc/opt/opensaf/comp_term.sh</command>
                                        <timeout>5000</timeout>
                                </cleanupCommand>
                        </clcCommands>
                        <instantiationLevel>1</instantiationLevel>
                        <csiPrototypeName>safCsi=Csi_AvSvDemo</csiPrototypeName>
                        <saAwareComponent>
                                <capability>1_ACTIVE_OR_1_STANDBY</capability>
                                <numMaxActiveCSIs>2</numMaxActiveCSIs>
                                <numMaxStandbyCSIs>2</numMaxStandbyCSIs>
                                <healthCheck key="A9FD64E12C">
                                        <period>2000</period>
                                        <maxDuration>6000</maxDuration>
                                </healthCheck>
                                <disableRestart>true</disableRestart>
                                <QuiescingDoneTimeout>5000</QuiescingDoneTimeout>
                                <terminationTimeout>5000</terminationTimeout>
                                <csiSetCallbackTimeout>5000</csiSetCallbackTimeout>
                                <csiRmvCallbackTimeout>5000</csiRmvCallbackTimeout>
                        </saAwareComponent>
                   <enableAM>0</enableAM>
                </componentPrototype>
                <CSIPrototype name="safCsi=junk" >
                                <ParamName name="Param1" />
                                <ParamName name="Param2" />
                </CSIPrototype>

                <CSIPrototype name="safCsi=Csi_AvSvDemo" >
                                <ParamName name="CsiAttr" />
                </CSIPrototype>

                <SUPrototype name="safSu=SuT_AvSvDemo" finalPrototype="1">
                        <componentPrototypeList>
                                <componentPrototype>safComp=CompT_AvSvDemo</componentPrototype>
                        </componentPrototypeList>
                </SUPrototype>

                <SIInstance name="safSi=Si_AvSvDemo">
                        <CSIList>
                                <CSIInstance name="safCsi=Csi_AvSvDemo" rank="1">
                                        <prototypeName>safCsi=Csi_AvSvDemo</prototypeName>
                                        <CSIAttributes>
                                                <nameValueList>
                                                        <nameValue name="CsiAttr" value="CsiAttrVal"/>
                                                </nameValueList>
                                        </CSIAttributes>
                                </CSIInstance>
                        </CSIList>
                        <!--
                         Following definition represents for SI-SI dependency.
                         Ex: "safSi=Si_AvSvDemo" is depended on "safSi=Si_Sponsor".
                             for zero tolerance timer, it should be  tolTime="0".
                        -->
                        <!--
                        <SIDepList>
                                <SIDep  name="safSi=Si_Sponsor"  tolTime="500000" />
                        </SIDepList>
                        -->
                </SIInstance>
                <SGInstance name="safSg=SG_AvSvDemo">
                        <redundancyModel>
                                <model_2N>
                                        <SURankList>
                                                <SU SUName="safSu=SuT_AvSvDemo,safNode=PL_2_3" rank="1"/>
                                                <SU SUName="safSu=SuT_AvSvDemo,safNode=PL_2_4" rank="2"/>
                                        </SURankList>
                                        <numPrefInserviceSUs>2</numPrefInserviceSUs>
                                        <failbackOption>0</failbackOption>
                                </model_2N>
                        </redundancyModel>
                        <SGErrorEscalation>
                                <componentRestartMax>10</componentRestartMax>
                                <componentRestartProbation>4000000</componentRestartProbation>
                                <SURestartMax>10</SURestartMax>
                                <SURestartProbation>4000000</SURestartProbation>
                        </SGErrorEscalation>
                        <SIList>
                                <SI rank="1">safSi=Si_AvSvDemo</SI>
                        </SIList>
                </SGInstance>

                <nodePrototype name="safNode=NodeT_Payload">
                        <nodeAttributes>
                                <nodeErrorEscalation>
                                   <SUFailoverMax>2</SUFailoverMax>
                                   <SUFailoverProbation>100</SUFailoverProbation>
                                </nodeErrorEscalation>
                        </nodeAttributes>
                        <SUFinalPrototypeList>
                                <SUFinalPrototype>safSu=SuT_AvSvDemo</SUFinalPrototype>
                        </SUFinalPrototypeList>
                </nodePrototype>

                <nodeInstance name="safNode=PL_2_3">
                        <prototypeName>safNode=NodeT_Payload</prototypeName>
                </nodeInstance>
                <nodeInstance name="safNode=PL_2_4">
                        <prototypeName>safNode=NodeT_Payload</prototypeName>
                </nodeInstance>
         </AMFConfig>
</APPConfig>
