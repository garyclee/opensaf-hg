#!/bin/bash

#########################################
# OpenSAF PATH's
#########################################
TMPDIR="/tmp"
PKGLOCALSTATEDIR="@localstatedir@/lib/@PACKAGE_NAME@"
PKGSYSCONFDIR="@sysconfdir@/@PACKAGE_NAME@"
PKGPIDDIR="@localstatedir@/run/@PACKAGE_NAME@"
BINPATH="xxBINDIRxx"
LIBPATH="xxLIBDIRxx"

#########################################
# TIPC configuration
#########################################
TIPC_MODULE="/lib/modules/$(uname -r)/kernel/net/tipc.ko"
TIPC_MANAGE="YES"

# The following environment variables are useful
# when running in simulation mode, where multiple
# nodes are simulated on the same Linux desktop
if [ ":$NCS_STDOUTS_PATH" == ":" ]
then
      export NCS_STDOUTS_PATH="$PKGLOCALSTATEDIR/stdouts"
fi

export OLD_STDOUTSPATH="$PKGLOCALSTATEDIR/old_stdouts"

#########################################
# FILES
#########################################
DBGFILE="$NCS_STDOUTS_PATH/monc_debug_log"
NIDFIFO="$TMPDIR/nodeinit.fifo"
SPCAPFIFO="$NIDFIFO"
CHASSIS_ID_FILE="$PKGSYSCONFDIR/chassis_id"
SLOT_ID_FILE="$PKGSYSCONFDIR/slot_id"
SUBSLOT_ID_FILE="$PKGSYSCONFDIR/subslot_id"
NODE_TYPE_FILE="$PKGSYSCONFDIR/node_type"
NISPIPE="$TMPDIR/nisfifo"

# Check for environment variable for slot number.
if [ "$SLOT_NUMBER" = "" ] ; then
  export SLOT_NUMBER=$(< "$SLOT_ID_FILE")
fi

export NODE_TYPE=$(< "$NODE_TYPE_FILE")

#########################################
# KEYS
#########################################
export CPSV_ENV_HEALTHCHECK_KEY="Default"
export DTS_AMF_HEALTHCHECK_KEY="Default"
export EDSV_ENV_HEALTHCHECK_KEY="Default"
export VDS_ENV_HEALTHCHECK_KEY="Default"
export SRMSV_ENV_HEALTHCHECK_KEY="Default"
export MQSV_ENV_HEALTHCHECK_KEY="Default"
export HCD_HEALTH_KEY_DEFAULT_SET="Default"
export GLSV_ENV_HEALTHCHECK_KEY="Default"
export RDE_HA_ENV_HEALTHCHECK_KEY="Default"
export FMS_HA_ENV_HEALTHCHECK_KEY="Default"
export IMMSV_ENV_HEALTHCHECK_KEY="Default"
export NTFSV_ENV_HEALTHCHECK_KEY="Default"
export LGSV_ENV_HEALTHCHECK_KEY="Default"
export CLMSV_ENV_HEALTHCHECK_KEY="Default"
export PLMS_ENV_HEALTHCHECK_KEY="Default"
export AMFMON_ENV_HEALTHCHECK_KEY="Default"

export NID_MAGIC=AAB49DAA


#########################################
# TARGET SYSTEM ARCHITECTURE
# Choices are:
#   ATCA (default)
#   HP_CCLASS
#   HP_PROLIANT
#########################################
export OPENSAF_TARGET_SYSTEM_ARCH="ATCA"


#########################################
# MISC
#########################################
ECHO="echo -e"
CAT="cat"
EXTN=".pid"

DAEMON_STARTED=1
DAEMON_START_FAILED=2
DAEMON_NOT_FND=$DAEMON_START_FAILED 

# By default AMF will close all files and redirect standard streams to /dev/null.
# Uncomment the next line to change to post 4.0 behaviour.
# Useful when debugging AMF CLC-CLI scripts.
#export OPENSAF_KEEP_FD_OPEN_AFTER_FORK=YES

CORE_FILE_SIZE="unlimited"
CORE_PATTERN="/var/crash/core_%t_%e_%p"
CORE_PATTERN_CURRENT=$(cat /proc/sys/kernel/core_pattern)

INITTIMEOUT=1000
TERMTIMEOUT=5
